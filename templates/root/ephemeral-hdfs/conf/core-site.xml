<?xml version="1.0"?>
<?xml-stylesheet type="text/xsl" href="configuration.xsl"?>

<!-- Put site-specific property overrides in this file. -->

<configuration>

  <property>
    <name>hadoop.tmp.dir</name>
    <value>/mnt/ephemeral-hdfs</value>
  </property>

  <property>
    <name>fs.default.name</name>
    <value>hdfs://{{active_master}}:9000</value>
  </property>

  <property>
    <name>io.file.buffer.size</name>
    <value>65536</value>
  </property>

  <property>
    <name>dfs.client.read.shortcircuit</name>
    <value>false</value>
  </property>

  <property>
    <name>dfs.client.read.shortcircuit.skip.checksum</name>
    <value>false</value>
  </property>

  <property>
    <name>dfs.domain.socket.path</name>
    <value>/var/run/hadoop-hdfs/dn._PORT</value>
  </property>

  <property>
    <name>dfs.client.file-block-storage-locations.timeout</name>
    <value>3000</value>
  </property>

  <property>
    <name>fs.tachyon.impl</name>
    <value>tachyon.hadoop.TFS</value>
  </property>

  <property>
    <name>fs.s3n.awsAccessKeyId</name>
    <value>{{aws_access_key_id}}</value>
  </property>

  <property>
    <name>fs.s3n.awsSecretAccessKey</name>
    <value>{{aws_secret_access_key}}</value>
  </property>

  <!-- The following are for NFS gateway -->

  <!--property>
    <name>hadoop.proxyuser.nfsserver.groups</name>
    <value>*</value>
    <description>
      The 'nfsserver' user is allowed to proxy all members of the 'nfs-users1' and
      'nfs-users2' groups. Set this to '*' to allow nfsserver user to proxy any group.
    </description>
  </property>

  <property>
    <name>hadoop.proxyuser.nfsserver.hosts</name>
    <value>*</value>
    <description>
      This is the host where the nfs gateway is running. Set this to '*' to allow
      requests from any hosts to be proxied.
    </description>
  </property-->

  <!--property>
    <name>hadoop.proxyuser.hdfs.groups</name>
    <value>*</value>
    <description>
      Set this to '*' to allow the gateway user to proxy any group.
    </description>
  </property>

  <property>
    <name>hadoop.proxyuser.hdfs.hosts</name>
    <value>*</value>
    <description>
      Set this to '*' to allow requests from any hosts to be proxied.
    </description>
  </property-->

    <!-- TODO get user for hdfs etc right -->

    <property>
        <name>hadoop.proxyuser.root.groups</name>
        <value>*</value>
        <description>
            Set this to '*' to allow the gateway user to proxy any group.
        </description>
    </property>

    <property>
        <name>hadoop.proxyuser.root.hosts</name>
        <value>*</value>
        <description>
            Set this to '*' to allow requests from any hosts to be proxied.
        </description>
    </property>


</configuration>
